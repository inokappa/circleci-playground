version: 2
jobs:
  build:
    docker:
      - image: docker:18.06.0-ce-git
    steps:
      - run:
          name: Hello world
          command: |
            echo "Hello CircleCI!!" > hello.txt
      - restore_cache:
          key: cache-date
      - run:
          name: Restore data
          command: |
            cat date.txt
      - run:
          name: Cache data
          command: |
            date > date.txt
      - save_cache:
          key: cache-date
          paths:
            - date.txt
      - run:
          name: Remove date.txt
          command: |
            rm -rf date.txt && ls -al
      - restore_cache:
          key: cache-date
      - run:
          name: Restore data
          command: |
            cat date.txt
 
workflows:
  version: 2
  pr-build:
    jobs:
      - build:
          filters:
            branches:
              ignore:
                - master
